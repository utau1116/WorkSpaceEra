
;-------------------------------------------------
;未読判定関数@FIRSTSKIT
;式中で使用する関数です。理論上無限にイベントを登録できます。
;特に使用法に指定のない、イベントの初回判定用関数です。
;ARGはイベント番号、ARG:1はキャラ登録番号（省略するとMASTER）、ARG:2が真だと初回判定を更新しない（参照のみ）
;CSTR:0で管理します
;備考…キャラクター登録番号を指定するとシナリオやその他のイベントと被る恐れがあるので、基本的にはMASTERに登録
;-------------------------------------------------
@FIRSTSKIT(ARG, ARG:1 = -2, ARG:2)
#FUNCTION
ARG:1 = ARG:1 == -2 ? 0 # ARG:1
RETURNF FIRSTPROCESS_SKIT(ARG:1, @"SKIT%TOSTR(ARG)%", ARG:2)

;汎用初回判定処理
;引数はキャラ番号、判定文字列、更新の有無、使用するCSTRの番号
@FIRSTPROCESS_SKIT(ARG, ARGS, ARG:1, ARG:2 = 4)
#FUNCTION
;空文字列の場合、/を1つ入れる
SIF CSTR:ARG:(ARG:2) == ""
	CSTR:ARG:(ARG:2) = /
;初回判定済みなら0を返す
SIF STRCOUNT(CSTR:ARG:(ARG:2), @"/%ARGS%/")
	RETURNF 0
;初回判定を更新しないチェックが無ければ更新
SIF !ARG:1
	CSTR:ARG:(ARG:2) = %CSTR:ARG:(ARG:2)%%ARGS%/
;初回なので1を返す
RETURNF 1


